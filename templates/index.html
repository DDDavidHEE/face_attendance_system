{% extends "base.html" %}

{% block title %}Trang chá»§{% endblock %}

{% block content %}
<h2 class="text-3xl font-bold mb-4">ğŸ“ Há»‡ thá»‘ng quáº£n lÃ½ sinh viÃªn</h2>
<p class="mb-6 text-lg text-gray-600">ChÃ o má»«ng Ä‘áº¿n vá»›i há»‡ thá»‘ng! DÆ°á»›i Ä‘Ã¢y lÃ  thÃ´ng tin thá»‘ng kÃª nhanh trong ngÃ y:</p>

<!-- Tháº» thá»‘ng kÃª, sá»­ dá»¥ng flexbox Ä‘á»ƒ cÄƒn chá»‰nh cÃ¡c pháº§n tá»­ ngang -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
    <div class="bg-blue-600 p-6 rounded-xl shadow-md text-white">
        <p class="text-gray-200">Tá»•ng sinh viÃªn</p>
        <h3 class="text-3xl font-bold">{{ total_students }}</h3>
    </div>
    <div class="bg-green-600 p-6 rounded-xl shadow-md text-white">
        <p class="text-gray-200">ÄÃ£ Ä‘iá»ƒm danh</p>
        <h3 class="text-3xl font-bold">{{ checked_in }}</h3>
    </div>
    <div class="bg-red-600 p-6 rounded-xl shadow-md text-white">
        <p class="text-gray-200">Váº¯ng máº·t</p>
        <h3 class="text-3xl font-bold">{{ absent }}</h3>
    </div>
</div>

<!-- Biá»ƒu Ä‘á»“ thá»‘ng kÃª -->
<div class="mt-10 grid grid-cols-1 md:grid-cols-2 gap-10">
    <div class="bg-white p-6 rounded-xl shadow">
        <h3 class="text-xl font-semibold mb-4">Biá»ƒu Ä‘á»“ thá»‘ng kÃª lÆ°á»£ng sinh viÃªn nghá»‰ há»c</h3>
        <canvas id="attendanceChart"></canvas>
    </div>
    <div class="bg-white p-6 rounded-xl shadow">
        <h3 class="text-xl font-semibold mb-4">Biá»ƒu Ä‘á»“ Ä‘Ã¡nh giÃ¡ Ä‘iá»ƒm há»c táº­p</h3>
        <canvas id="gradeChart"></canvas>
    </div>
</div>

<script>
    // Chart.js for attendance and grade charts
    var ctx1 = document.getElementById('attendanceChart').getContext('2d');
    var attendanceChart = new Chart(ctx1, {
        type: 'pie',
        data: {
            labels: ['Sinh viÃªn nghá»‰', 'Sinh viÃªn cÃ³ máº·t'],
            datasets: [{
                data: [{{ absent }}, {{ checked_in }}],
                backgroundColor: ['#FF6384', '#36A2EB'],
                borderColor: '#fff',
                borderWidth: 1
            }]
        }
    });

    var ctx2 = document.getElementById('gradeChart').getContext('2d');
    var gradeChart = new Chart(ctx2, {
        type: 'pie',
        data: {
            labels: ['Äiá»ƒm < 5', 'Äiá»ƒm 5 - 8', 'Äiá»ƒm > 8'],
            datasets: [{
                data: [30, 40, 30], // Replace with real data
                backgroundColor: ['#FF4C4C', '#FFB833', '#2F9E6D'],
                borderColor: '#fff',
                borderWidth: 1
            }]
        }
    });
</script>
{% endblock %}
